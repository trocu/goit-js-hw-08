{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAW,sBACUC,EAAAJ,EAAKK,SAAxBC,EAAmBF,EAAnBG,MAAOC,EAAYJ,EAAZK,SAkBf,WACE,GAAuC,OAAnCC,aAAaC,QAAQR,GACvB,OAEF,IAAMS,EAAmBC,KAAKC,MAAMC,OAAOL,aAAaC,QAAQR,IAChEG,EAAMU,MAAQJ,EAAiBL,MAC/BC,EAAQQ,MAAQJ,EAAiBH,O,CAtBnCQ,GAGAjB,EAAKkB,iBAAiB,QAASC,EAAArB,EAAA,EAE/B,SAAmBsB,GACjBA,EAAEC,iBAEF,IAAMC,EAAkB,CACtBf,MAAOD,EAAMU,MACbP,QAASD,EAAQQ,OAEnBD,OAAOL,aAAaa,QAAQpB,EAAUU,KAAKW,UAAUF,G,GATJ,MAuBnDtB,EAAKkB,iBAAiB,UAEtB,SAAsBE,GAEpB,GADAA,EAAEC,iBACkB,KAAhBf,EAAMU,OAAkC,KAAlBR,EAAQQ,MAChC,OAAOS,MAAM,+BAEf,IAAMC,EAAiBb,KAAKC,MAAMC,OAAOL,aAAaC,QAAQR,IAC9DwB,QAAQC,IAAIF,GACZN,EAAES,cAAcC,QAChBpB,aAAaqB,WAAW5B,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst FEEDBACK = 'feedback-form-state';\nconst { email, message } = form.elements;\n\nupdateInput();\n\n//Fetches form data and saves in localStorage\nform.addEventListener('input', throttle(saveInput, 500));\n\nfunction saveInput(e) {\n  e.preventDefault();\n\n  const clientDataInput = {\n    email: email.value,\n    message: message.value,\n  };\n  window.localStorage.setItem(FEEDBACK, JSON.stringify(clientDataInput));\n}\n\n//Updates form fields after page reload\nfunction updateInput() {\n  if (localStorage.getItem(FEEDBACK) === null) {\n    return;\n  }\n  const clientDataOutput = JSON.parse(window.localStorage.getItem(FEEDBACK));\n  email.value = clientDataOutput.email;\n  message.value = clientDataOutput.message;\n}\n\n//Clears localStorage after form submission\nform.addEventListener('submit', clearStorage);\n\nfunction clearStorage(e) {\n  e.preventDefault();\n  if (email.value === '' || message.value === '') {\n    return alert('Please complete all fields!');\n  }\n  const showClientData = JSON.parse(window.localStorage.getItem(FEEDBACK));\n  console.log(showClientData);\n  e.currentTarget.reset();\n  localStorage.removeItem(FEEDBACK);\n}\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$FEEDBACK","$b00c40859be242c5$var$_elements","elements","$b00c40859be242c5$var$email","email","$b00c40859be242c5$var$message","message","localStorage","getItem","clientDataOutput","JSON","parse","window","value","$b00c40859be242c5$var$updateInput","addEventListener","$parcel$interopDefault","e","preventDefault","clientDataInput","setItem","stringify","alert","showClientData","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.d68610b5.js.map"}