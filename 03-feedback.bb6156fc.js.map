{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,mBAE9BC,MAAEC,EAAKC,QAAEC,GAAYN,EAAKO,UAkBhC,WACE,GAAuC,OAAnCC,aAAaC,QApBF,uBAqBb,OAEF,MAAMC,EAAmBC,KAAKC,MAAMC,OAAOL,aAAaC,QAvBzC,wBAwBfL,EAAMU,MAAQJ,EAAiBP,MAC/BG,EAAQQ,MAAQJ,EAAiBL,O,CAtBnCU,GAGAf,EAAKgB,iBAAiB,QAASC,EAAAnB,EAAA,EAE/B,SAAmBoB,GACjBA,EAAEC,iBAEF,MAAMC,EAAkB,CACtBjB,MAAOC,EAAMU,MACbT,QAASC,EAAQQ,OAEnBD,OAAOL,aAAaa,QAfL,sBAeuBV,KAAKW,UAAUF,G,GATJ,MAuBnDpB,EAAKgB,iBAAiB,UAEtB,SAAsBE,GAEpB,GADAA,EAAEC,iBACkB,KAAhBf,EAAMU,OAAkC,KAAlBR,EAAQQ,MAChC,OAAOS,MAAM,+BAEf,MAAMC,EAAiBb,KAAKC,MAAMC,OAAOL,aAAaC,QApCvC,wBAqCfgB,QAAQC,IAAIF,GACZN,EAAES,cAAcC,QAChBpB,aAAaqB,WAvCE,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst FEEDBACK = 'feedback-form-state';\nconst { email, message } = form.elements;\n\nupdateInput();\n\n//Fetches form data and saves in localStorage\nform.addEventListener('input', throttle(saveInput, 500));\n\nfunction saveInput(e) {\n  e.preventDefault();\n\n  const clientDataInput = {\n    email: email.value,\n    message: message.value,\n  };\n  window.localStorage.setItem(FEEDBACK, JSON.stringify(clientDataInput));\n}\n\n//Updates form fields after page reload\nfunction updateInput() {\n  if (localStorage.getItem(FEEDBACK) === null) {\n    return;\n  }\n  const clientDataOutput = JSON.parse(window.localStorage.getItem(FEEDBACK));\n  email.value = clientDataOutput.email;\n  message.value = clientDataOutput.message;\n}\n\n//Clears localStorage after form submission\nform.addEventListener('submit', clearStorage);\n\nfunction clearStorage(e) {\n  e.preventDefault();\n  if (email.value === '' || message.value === '') {\n    return alert('Please complete all fields!');\n  }\n  const showClientData = JSON.parse(window.localStorage.getItem(FEEDBACK));\n  console.log(showClientData);\n  e.currentTarget.reset();\n  localStorage.removeItem(FEEDBACK);\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","email","$945622fd0f572e60$var$email","message","$945622fd0f572e60$var$message","elements","localStorage","getItem","clientDataOutput","JSON","parse","window","value","$945622fd0f572e60$var$updateInput","addEventListener","$parcel$interopDefault","e","preventDefault","clientDataInput","setItem","stringify","alert","showClientData","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.bb6156fc.js.map"}